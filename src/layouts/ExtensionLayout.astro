---
import PageLayout from '~/layouts/PageLayout.astro';
import { Image } from 'astro:assets';
import type { MetaData } from '~/types';

export interface Props {
  frontmatter?: {
    title: string;
    description: string;
    icon?: string;
    image?: string;
  };
  title?: string;
  description?: string;
  image?: string;
}

const { frontmatter, title, description, image } = Astro.props;

const pageTitle = frontmatter?.title || title;
const pageDescription = frontmatter?.description || description;
const pageImage = frontmatter?.image || image;

const metadata: MetaData = {
  title: pageTitle,
  description: pageDescription,
};
---

<PageLayout metadata={metadata}>
  <section class="px-4 py-16 sm:px-6 mx-auto lg:px-8 lg:py-20 max-w-6xl">
    <!-- Hero Section -->
    <div class="mb-12 text-center md:text-left">
      <h1 class="font-bold font-heading text-4xl md:text-5xl lg:text-6xl leading-tighter tracking-tighter mb-4">
        {pageTitle}
      </h1>
      <p class="text-xl text-muted dark:text-slate-400 max-w-3xl">
        {pageDescription}
      </p>
    </div>

    <!-- Hero Image (Full Width) -->
    {
      pageImage && (
        <div class="mb-12">
          <img src={pageImage} alt={pageTitle} class="w-full rounded-lg shadow-lg" />
        </div>
      )
    }

    <!-- Content Area -->
    <div class="grid md:grid-cols-4 gap-8">
      <!-- Main Content -->
      <div class="md:col-span-3">
        <div
          class="prose prose-lg max-w-none dark:prose-invert dark:prose-headings:text-slate-300 prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-headings:font-bold prose-a:text-blue-600 dark:prose-a:text-blue-400 prose-img:rounded-md prose-img:shadow-lg"
        >
          <slot />
        </div>
      </div>

      <!-- Sidebar -->
      <aside class="md:col-span-1">
        <div class="sticky top-24">
          <slot name="sidebar" />
        </div>
      </aside>
    </div>
  </section>
</PageLayout>
